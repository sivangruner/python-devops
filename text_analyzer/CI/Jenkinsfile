pipeline {
    agent any

    stages {
        stage('Lint') {
            steps {
                dir('C:\\Users\\Admin\\test_home\\python-devops\\text_analyzer') {
                    bat '"C:\\Users\\Admin\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Task.Task_Microsoft.Winget.Source_8wekyb3d8bbwe\\task.exe" lint'
                }
            }
        }

        stage('Build Package') {
            steps {
                dir('..') {
                    bat '"C:\\Users\\Admin\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Task.Task_Microsoft.Winget.Source_8wekyb3d8bbwe\\task.exe" build ver=1.2.3'
                }
            }
        }

        stage('Test') {
            steps {
                dir('..') {
                    bat 'task test'
                }
            }
        }
    }
}
